:orphan:

.. Auto-generated by mirtk-help-rst from "mirtk calculate -h" output

calculate
=========

.. program:: calculate


Synopsis
--------

::

    mirtk calculate <input> [options]


Description
-----------

.. include:: _descriptions/calculate.rst



Input options
-------------

.. option:: -scalars <name>

   Name of input point data array. (default: active SCALARS array)


Data manipulation options
-------------------------

.. option:: -mask <float|file>

   Exclude values equal a given threshold or with zero input mask value.
   Note that this does not modify the data values, but only marks them to be
   ignored from now on. Use -outside/-pad following this operation to set an outside value.

.. option:: -mask-inside  <lower> <upper>

   Exclude values which are inside a given closed interval.

.. option:: -mask-outside <lower> <upper>

   Exclude values which are outside a given open interval.

.. option:: -mask-below <value>

   Exclude values less or equal a given threshold.

.. option:: -mask-above <value>

   Exclude values greator or equal a given threshold.

.. option:: -even

   Exclude values which are not an even number when cast to an integer.

.. option:: -odd

   Exclude values which are not an odd number when cast to an integer.

.. option:: -threshold <lower> [<upper>]

   Clamp values which are less or equal and optionally greater or equal a threshold.

.. option:: -threshold-below <value>

   Clamp values less or equal a given threshold.

.. option:: -threshold-above <value>

   Clamp values greator or equal a given threshold.

.. option:: -rescale <min> <max>

   Linearly rescale values to the interval [min, max].

.. option:: -inside <float>

   Set new value for all currently unmasked data values.

.. option:: -outside <float>

   Set new value for all currently masked data values.

.. option:: -out <file>

   Write current data sequence to file in the format of the input file.

.. option:: -add <float|file>

   Add constant value or data sequence read from specified file.

.. option:: -sub <float|file>

   Subtract constant value or data sequence read from specified file.

.. option:: -mul <float|file>

   Multiply by constant value or data sequence read from specified file.

.. option:: -div <float|file>

   Divide by constant value or data sequence read from specified file.

.. option:: -abs

   Take absolute values.

.. option:: -pow <exponent>

   Raise values to the power of the given exponent.

.. option:: -sq -square

   Raise values to the power of 2 (i.e, -pow 2).

.. option:: -sqrt

   Calculate square root of each value (i.e, -pow .5).

.. option:: -exp

   Calculate exponential of data sequence.

.. option:: -log [<threshold>] [<base>]

   Compute logarithm after applying an optional threshold.
   (default threshold: min double, default base: e)

.. option:: -lb [<threshold>]

   Compute binary logarithm, alias for -log <threshold> 2.

.. option:: -log2 [<threshold>]

   Compute binary logarithm, alias for -log <threshold> 2.

.. option:: -ln [<threshold>]

   Compute natural logarithm, alias for -log [<threshold>].

.. option:: -lg [<threshold>]

   Compute logarithm to base 10, alias for -log <threshold> 10.

.. option:: -log10 [<threshold>]

   Compute logarithm to base 10, alias for -log <threshold> 10.


Data statistics options
-----------------------

.. option:: -append <file>

   Append output to a file. (default: STDOUT)

.. option:: -delimiter | -delim | -d | -sep

   Delimiting character(s). (default: '')

.. option:: -header [<name>...]

   Request output of header line if delimiter was
   specified as well. If the output is appended to
   a text file, the header is only printed if it does not exist.
   If no or fewer custom column names are given, the default
   names for each statistic are printed. (default: none)

.. option:: -prefix <str>...

   One or more prefix strings to print. If no delimiter
   is specified, the concatenated strings are printed before
   each line of the output. Otherwise, each prefix string
   is printed as entry for the first columns in the delimited
   output row, separated by the specified delimiter. (default: none)

.. option:: -precision <int>

   Number of significant digits. (default: 5)

.. option:: -mean | -avg

   Print mean intensity. (default: on)

.. option:: -variance | -var

   Print variance of intensity values. (default: off)

.. option:: -sigma | -std

   Print standard deviation of intensity values. (default: on)

.. option:: -minimum | -min

   Print minimum intensity value. (default: off)

.. option:: -maximum | -max

   Print maximum intensity value. (default: off)

.. option:: -extrema | -minmax

   Print minimum and maximum intensity value. (default: on)

.. option:: -range

   Print range of intensity values (i.e., max - min). (default: off)

.. option:: -percentile <n> | -pct <n>

   Print n-th percentile. (default: none)


Standard options
----------------

.. option:: -v, -verbose [n]

   Increase/Set verbosity of output messages. (default: 0)

.. option:: -debug [level]

   Increase/Set debug level for output of intermediate results. (default: 0)

.. option:: -version [major.minor]

   Print version and exit or set version to emulate.

.. option:: -revision

   Print revision (or version) number only and exit.

.. option:: -h, -help

   Print help and exit.


Terminal options
----------------

.. option:: -color, -nocolor

   Enable/disable colored output. (default: off)


Examples
--------


Example 1
~~~~~~~~~

**Command**::

    mirtk calculate mni305.nii.gz

**Output/Description**::

    Mean = 26.9753
    Standard deviation = 50.3525
    Extrema = [0, 254]
    Range = 254


Example 2
~~~~~~~~~

**Command**::

    mirtk calculate mni305.nii.gz -pct 77

**Output/Description**::

    77th percentile = 25


Example 3
~~~~~~~~~

**Command**::

    mirtk calculate mni305.nii.gz -padding 25 -range -percentile 25 50 75 -prefix MNI305 '[>25]'

**Output/Description**::

    MNI305 [>25] range = 254
    MNI305 [>25] 25th percentile = 69
    MNI305 [>25] 50th percentile = 113
    MNI305 [>25] 75th percentile = 150


Example 4
~~~~~~~~~

**Command**::

    mirtk calculate mni305.nii.gz -d , -prefix MNI305

**Output/Description**::

    MNI305,26.9753,50.3525,0,254,254 [no newline at end of line]


Example 5
~~~~~~~~~

**Command**::

    mirtk calculate mni305.nii.gz -d , -prefix MNI305 -header

**Output/Description**::

    ,Mean,Sigma,Min,Max,Range
    MNI305,26.9753,50.3525,0,254,254


Example 6
~~~~~~~~~

**Command**::

    mirtk calculate mni305.nii.gz -d , -prefix MNI305 -header ID Mean SD

**Output/Description**::

    ID,Mean,SD,Min,Max,Range
    MNI305,26.9753,50.3525,0,254,254


Example 7
~~~~~~~~~

**Command**::

    mirtk calculate a.nii.gz + b.nii.gz = c.nii.gz


Example 8
~~~~~~~~~

**Command**::

    mirtk calculate a.vtk + b.nii.gz - 10 / c.nii = d.vtk

**Output/Description**::

          Adds data values at identical sequential memory indices in a and b,
          subtracts the constant 10, and then divides by the values in image c.
    
          Note: Operations are always executed from left to right,
                i.e., no mathematical operator precedence is considered!
