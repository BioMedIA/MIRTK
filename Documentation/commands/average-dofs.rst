:orphan:

.. Auto-generated by mirtk-help-rst from "mirtk average-dofs -h" output

average-dofs
============

.. program:: average-dofs


Synopsis
--------

::

    mirtk average-dofs <dofout> <dofin>...       [options]
    mirtk average-dofs <dofout> -dofnames <file> [options]


Description
-----------

.. include:: _descriptions/average-dofs.rst



Input options
-------------

.. option:: -target <file>

   Common reference image space of input transformations.
   If not specified and local transformations are to be averaged,
   the attributes of the first local transformation are used.

.. option:: -dofnames <file>

   Text file listing input transformations and associated values.

.. option:: -dofdir <dir>

   Directory used to make relative paths in :option:`-dofnames` text file absolute. (default: cwd)

.. option:: -prefix <string>

   Prefix for transformation name entries in :option:`-dofnames` text file. (default: none)

.. option:: -suffix <string>

   Suffix for transformation name entries in :option:`-dofnames` text file. (default: none)

.. option:: -gaussian <mean> <sigma>

   Use Gaussian kernel weights. Requires :option:`-dofnames` to specify transformation values.
   By default, if :option:`-dofnames` is used or <sigma> is 0, the values specified in the
   text file are directly used as kernel weights for the averaging instead of
   using these values as arguments for the Gaussian kernel function.

.. option:: -epsilon <value>

   Weight threshold. (default: 0.001)

.. option:: -add-identity

   Assume additional identity transformation as part of input transformations. (default: none)

.. option:: -add-identity-with-weight <value>

   Assume additional identity transformation with given value/weight. (default: none)

.. option:: -add-identity-for-dofname <name>

   Assume identity transformation for named input transformation.
   Note that if this option is used, the named input transformation file
   which is listed in the :option:`-dofnames` list does not need to exist.
   (default: read input transformation from file)


Average transformation options
------------------------------

.. option:: -rotation, -norotation

   Average rotation    or assume none to be present. (default: off)

.. option:: -translation, -notranslation

   Average translation or assume none to be present. (default: off)

.. option:: -scaling, -noscaling

   Average scaling     or assume none to be present. (default: on)

.. option:: -shearing, -noshearing

   Average shearing    or assume none to be present. (default: on)

.. option:: -deformation, -nodeformation

   Average deformation or assume none to be present. (default: on)

.. option:: -log, -nolog

   Whether to average local transformations in log-space.
   (default: yes, unless the :option:`-dofs` are averaged directly)

.. option:: -log-euclidean

   Compute Log-Euclidean means. (default: off)

.. option:: -bi-invariant

   Compute global bi-invariant mean, i.e., exponential barycenter. (default: on)

.. option:: -dofs

   Average the local transformation parameters directly.
   (default: corresponding (dense) displacement fields are averaged)

.. option:: -inverse-dofs

   Average inverse input transformations and invert the average again. (default: off)

.. option:: -rigid

   Enables averaging of :option:`-translation` and :option:`-rotation` components,
   and disables averaging of :option:`-scaling`, :option:`-shearing`, and :option:`-deformation`.

.. option:: -norigid

   Disables averaging of :option:`-translation` and :option:`-rotation` components.

.. option:: -affine

   Enables averaging of :option:`-translation`, :option:`-rotation`,
   :option:`-scaling`, and :option:`-shearing`, components and disables output of
   average :option:`-deformation`.

.. option:: -noaffine

   Disables averaging of :option:`-rotation`, :option:`-translation`,
   :option:`-scaling`, and :option:`-shearing` components.

.. option:: -all

   Enables averaging of :option:`-rotation`, :option:`-translation`,
   :option:`-scaling`, :option:`-shearing`, and :option:`-deformation`.

.. option:: -linear

   Force average output transformation to use linear interpolation.

.. option:: -cubic

   Force average output transformation to use cubic B-spline interpolation.


Standard options
----------------

.. option:: -v, -verbose [n]

   Increase/Set verbosity of output messages. (default: 0)

.. option:: -debug [level]

   Increase/Set debug level for output of intermediate results. (default: 0)

.. option:: -version [major.minor]

   Print version and exit or set version to emulate.

.. option:: -revision

   Print revision (or version) number only and exit.

.. option:: -h, -help

   Print help and exit.
