:orphan:

.. Auto-generated by help-rst from "mirtk average-dofs -h" output

average-dofs
============

.. program:: average-dofs


Synopsis
--------

::

    average-dofs <dofout> <dofin>...       [options]
    average-dofs <dofout> -dofnames <file> [options]


Description
-----------

.. include:: _descriptions/average-dofs.rst



Input options
-------------

.. option:: -type <name>

   Common type/class name of input transformations.
   If not specified or when :option:`-target` is not used, the input
   transformations may need to be opened and read twice from disk.
   Use this option when all input transformations have the same known
   type to avoid the extra I/O. Not needed when -nodofs option given.

.. option:: -target <file>|common

   Either file name of reference image or (M)FFD transformation.
   When all input (M)FFDs have the same type and attributes, "common"
   can be specified to use the attributes of the first input FFD. When
   used together with the :option:`-type`, this avoids reading all input
   transformations twice, where during the first pass it is determined
   whether and which type all input transformations have in common and on
   what discrete lattice to possibly average the parameters directly.
   If not specified and local transformations are to be averaged,
   the attributes of the first local transformation are used.

.. option:: -dofnames <file>

   Text file listing input transformations and associated values.

.. option:: -dofdir <dir>

   Directory used to make relative paths in :option:`-dofnames` text file absolute. (default: cwd)

.. option:: -prefix <string>

   Prefix for transformation name entries in :option:`-dofnames` text file. (default: none)

.. option:: -suffix <string>

   Suffix for transformation name entries in :option:`-dofnames` text file. (default: none)

.. option:: -gaussian <mean> <sigma>

   Use Gaussian kernel weights. Requires :option:`-dofnames` to specify transformation values.
   By default, if :option:`-dofnames` is used or <sigma> is 0, the values specified in the
   text file are directly used as kernel weights for the averaging instead of
   using these values as arguments for the Gaussian kernel function.

.. option:: -epsilon <value>

   Weight threshold. (default: 0.001)

.. option:: -add-identity

   Assume additional identity transformation as part of input transformations. (default: none)

.. option:: -add-identity-with-weight <value>

   Assume additional identity transformation with given value/weight. (default: none)

.. option:: -add-identity-for-dofname <name>

   Assume identity transformation for named input transformation.
   Note that if this option is used, the named input transformation file
   which is listed in the :option:`-dofnames` list does not need to exist.
   (default: read input transformation from file)


Average transformation options
------------------------------

.. option:: -rotation, -norotation

   Average rotation    or assume none to be present. (default: off)

.. option:: -translation, -notranslation

   Average translation or assume none to be present. (default: off)

.. option:: -scaling, -noscaling

   Average scaling     or assume none to be present. (default: on)

.. option:: -shearing, -noshearing

   Average shearing    or assume none to be present. (default: on)

.. option:: -deformation, -nodeformation

   Average deformation or assume none to be present. (default: on)

.. option:: -local, -nolocal

   Alias for :option:`-deformation`.

.. option:: -log, -nolog

   Whether to average local transformations in log-space.
   (default: no, unless the :option:`-dofs` of a SV FFD are averaged directly)

.. option:: -log-euclidean

   Compute Log-Euclidean means. (default: off)

.. option:: -bi-invariant

   Compute global bi-invariant mean, i.e., exponential barycenter. (default: on)

.. option:: -dofs, -nodofs

   Average the local transformation parameters directly. When this option is off,
   the corresponding (dense) displacement fields are averaged instead.
   (default: yes, unless input contains mixed FFD types or common type does not support this)

.. option:: -inverse-dofs

   Average inverse input transformations and invert the average again. (default: off)

.. option:: -rigid

   Enables averaging of :option:`-translation` and :option:`-rotation` components,
   and disables averaging of :option:`-scaling`, :option:`-shearing`, and :option:`-deformation`.

.. option:: -norigid

   Disables averaging of :option:`-translation` and :option:`-rotation` components.

.. option:: -affine, -global

   Enables averaging of :option:`-translation`, :option:`-rotation`,
   :option:`-scaling`, and :option:`-shearing`, components and disables output of
   average :option:`-deformation`.

.. option:: -noaffine

   Disables averaging of :option:`-rotation`, :option:`-translation`,
   :option:`-scaling`, and :option:`-shearing` components.

.. option:: -noglobal

   Same as :option:`-noaffine`, but also forces output of non-MFFD.

.. option:: -all

   Enables averaging of :option:`-rotation`, :option:`-translation`,
   :option:`-scaling`, :option:`-shearing`, and :option:`-deformation`.

.. option:: -linear

   Force average output transformation to use linear interpolation.

.. option:: -cubic

   Force average output transformation to use cubic B-spline interpolation.


Standard options
----------------

.. option:: -v, -verbose [n]

   Increase/Set verbosity of output messages. (default: 0)

.. option:: -debug [level]

   Increase/Set debug level for output of intermediate results. (default: 0)

.. option:: -version [major.minor]

   Print version and exit or set version to emulate.

.. option:: -revision

   Print revision (or version) number only and exit.

.. option:: -h, -help

   Print help and exit.
